const t=new class{setInput(t){const e=t.replace(/\B(?=(\d{3})+(?!\d))/g,",");this.input.value=e}constructor(){this.input=document.querySelector("input")}};const e=new class{reset(){this.operator="",this.firstOperand="",this.secondOperand="",this.result=0,t.setInput(this.result.toString())}constructor(){this.operator="",this.firstOperand="",this.secondOperand="",this.result=0}};class s{add(t,e){return t+e}subtract(t,e){return t-e}multiply(t,e){return t*e}divide(t,e){return t/e}calculate(t,e,s){switch(t){case"+":return this.add(e,s);case"-":return this.subtract(e,s);case"/":return this.divide(e,s);case"*":return this.multiply(e,s);default:return"Error"}}}new class{constructor(){this.toggleSwitch=document.querySelector(".toggle__btn"),this.toggleDiv=document.querySelector(".toggle__background"),this.toggleSwitch.addEventListener("click",this.switchTheme.bind(this))}switchTheme(){return this.toggleDiv.classList.contains("toggle__btn--2")?(this.toggleDiv.classList.remove("toggle__btn--2"),document.documentElement.setAttribute("data-theme","dark"),void this.toggleSwitch.classList.add("toggle__btn--3")):this.toggleSwitch.classList.contains("toggle__btn--3")?(document.documentElement.removeAttribute("data-theme"),void this.toggleSwitch.classList.remove("toggle__btn--3")):(this.toggleDiv.classList.add("toggle__btn--2"),void document.documentElement.setAttribute("data-theme","light"))}},new class{constructor(){this.keys=document.querySelector(".calculator__keys"),this.inputChars="",this.calculator=new s,this.keys.addEventListener("click",(t=>{t.target.matches("button")&&this.getInput(t)})),e.result&&t.setInput(e.result.toString())}getInput(s){const r=s.target.dataset.value;switch(r){case"+":this.handleOperator("+");break;case"-":this.handleOperator("-");break;case"*":this.handleOperator("*");break;case"/":this.handleOperator("/");break;case"=":this.handleOperator("=");break;case"del":this.inputChars&&(this.inputChars=this.inputChars.slice(0,-1),t.setInput(this.inputChars));break;case"reset":e.reset(),this.inputChars="";break;case".":this.inputChars.includes(".")||(this.inputChars+=r,t.setInput(this.inputChars));break;default:this.inputChars+=r,t.setInput(this.inputChars)}}handleOperator(t){"="===t&&e.secondOperand?(this.handleInput(),e.result=this.calculator.calculate(e.operator,parseFloat(e.firstOperand.replace(/,/g,"")),parseFloat(e.secondOperand.replace(/,/g,""))),this.renderResult(),this.resetSecondOperand()):(this.handleInput(),e.operator=t,this.resetSecondOperand())}handleInput(){if("-"!==e.operator||e.firstOperand){if(!e.firstOperand)return e.firstOperand=this.inputChars,void(this.inputChars="");e.firstOperand&&(e.secondOperand=this.inputChars),e.result&&(e.firstOperand=e.result.toLocaleString(),this.renderResult()),e.firstOperand&&e.secondOperand&&(e.result=this.calculator.calculate(e.operator,parseFloat(e.firstOperand.replace(/,/g,"")),parseFloat(e.secondOperand.replace(/,/g,""))),this.renderResult())}else this.handleNegativeInput()}handleNegativeInput(){const t=-this.inputChars;this.inputChars=t.toString(),e.firstOperand=this.inputChars}renderResult(){t.setInput(e.result.toLocaleString())}resetSecondOperand(){e.secondOperand="",this.inputChars=""}};
//# sourceMappingURL=index.7b068707.js.map
